!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){var o=n(8),i=n(0);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?i(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var o=n(9);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),r=n(2),s=n.n(r),a=n(3),l=n.n(a),u=n(4),h=n.n(u),c=n(0),f=n.n(c),p=n(5),d=n.n(p),w=window.px.Sprite||PIXI.Sprite,y=function(e){function t(){var e;return i()(this,t),(e=l()(this,h()(t).call(this))).load=PIXI.loader,e.rotationTime=5,e.slicePrizes=[20,500,30,300,40,200,50,100,10,1e3],e.preload(e.create.bind(f()(e))),e.interactive=!0,e.buttonMode=!0,e}return d()(t,e),s()(t,[{key:"preload",value:function(e){var t=this;[{key:"wheel",source:"http://10.0.0.83:3000/dev/wheel-of-fortune/spin-wheel.png"},{key:"central-frame",source:"http://10.0.0.83:3000/dev/wheel-of-fortune/central-frame.png"},{key:"pin",source:"http://10.0.0.83:3000/dev/wheel-of-fortune/pointer.png"},{key:"background",source:"http://10.0.0.83:3000/dev/wheel-of-fortune/background.jpg"},{key:"wheel-shade",source:"http://10.0.0.83:3000/dev/wheel-of-fortune/wheel-shade.png"},{key:"win-highlight",source:"http://10.0.0.83:3000/dev/wheel-of-fortune/win-highlight.png"}].forEach(function(e){t.load.resources[e.key]||t.load.add(e.key,e.source)}),this.load.load(),"function"==typeof e&&this.load.onComplete.add(e)}},{key:"create",value:function(){this.addChild(new w.fromImage("background"));var e=this.addChild(new w.fromImage("wheel-shade"));e.x=640,e.y=380,e.anchor.set(.5),this.wheel=this.addChild(new w.fromImage("wheel")),this.wheel.x=640,this.wheel.y=360,this.wheel.anchor.set(.5),this.winHl=this.addChild(new w.fromImage("win-highlight")),this.winHl.x=551+this.winHl.width/2,this.winHl.y=80+this.winHl.height+30,this.winHl.pivot.y=this.winHl.height+30,this.winHl.pivot.x=this.winHl.width/2,this.winHl.visible=!1,this.pin=this.addChild(new w.fromImage("pin")),this.pin.x=640,this.pin.y=35,this.pin.anchor.set(.5,0),this.prizeText=this.addChild(new PIXI.Text("Spin the wheel",{fontFamily:"Arial",fontSize:32,align:"center",fill:"white"})),this.prizeText.anchor.set(.5),this.prizeText.x=640,this.prizeText.y=690;var t=this.addChild(new w.fromImage("central-frame"));t.x=640-t.width/2,t.y=360-t.height/2,this.canSpin=!0,this.on("pointerdown",this.spinWheel,this)}},{key:"spinWheel",value:function(e){var t=this;if(this.canSpin){this.canSpin=!1,this.winHl.visible=!1,isNaN(e)&&(e=null),this.prizeText.text="";var n=e||Math.floor(360*Math.random());n-=360*Math.floor(n/360),Number.isInteger(n/(360/this.slices))&&n++;var o=(1620+n)*Math.PI/180+Math.PI+.314,i=this.slices-1-Math.floor(n/(360/this.slices));this.wheel.rotation=0;var r=1,s=this,a=TweenMax.to(this.wheel,this.rotationTime,{paused:!0,rotation:o,ease:Power1.easeOut,onUpdate:function(){parseInt(180*(this.target.rotation+.314)/Math.PI)>=360/s.slices*r&&(l.restart(),r++)},onComplete:function(){t.prizeText.text=t.slicePrizes[i],t.showWin(),t.canSpin=!0}}),l=new TimelineMax({paused:!0,ease:Power4.easeOut,onComplete:function(){return TweenMax.to(t.pin,.05,{rotation:0})}}).to(this.pin,.05,{rotation:-.15}).to(this.pin,.05,{rotation:.15});TweenMax.to(this.wheel,.5,{rotation:-2,ease:Power1.easeOut,onComplete:function(){a.play()}})}}},{key:"showWin",value:function(){var e,t,n,o=this;e=180*o.wheel.rotation/Math.PI,t=e-360*parseInt(e/360),n=(t-18*parseInt(t/18))*Math.PI/180,parseInt(t/18)%2&&(n-=.32),o.winHl.rotation=n,setTimeout(function(){return o.winHl.visible=!0},100)}},{key:"slices",get:function(){return this.slicePrizes.length}}]),t}(window.px.Container||PIXI.Container);window.WheelOfFortune=y},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n}]);